(this["webpackJsonplibrary-management"]=this["webpackJsonplibrary-management"]||[]).push([[0],{20:function(e,t,a){e.exports=a(34)},25:function(e,t,a){},26:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),l=(a(25),a(26),a(2)),u=function(e){return r.a.createElement("div",{className:"topnav"},r.a.createElement(l.b,{className:"active",to:"/book-library/"},r.a.createElement("b",null,"Book Library")),r.a.createElement("div",{className:"topnav-right"},r.a.createElement(l.b,{to:"/book-library/"},"Home"),r.a.createElement(l.b,{to:"/book-library/authors"},"Authors"),r.a.createElement(l.b,{to:"/book-library/categories"},"Categories"),r.a.createElement(l.b,{to:"/book-library/about"},"About")))},s=a(4),i=function(e){var t=Object(n.useState)(e),a=Object(s.a)(t,2),r=a[0],c=a[1];Object(n.useEffect)((function(){c(e)}),[e]);return{imageSource:r,onError:function(){c("https://www.hultafors.com/assets/img/noimage.png?width=300")}}},m=function(e){var t=e.src,a=i(t),n=a.imageSource,c=a.onError;return r.a.createElement("img",{src:n,title:"",alt:"",onError:c})},b=function(e){var t=e.title,a=e.isbn,n=e.thumbnailUrl;return r.a.createElement("li",{className:"book-item"},r.a.createElement(l.b,{to:"/book-library/isbn/".concat(a)},r.a.createElement(m,{src:n}),r.a.createElement("div",{className:"title"},t.slice(0,20),"...")))},E=function(e){var t=e.books;return r.a.createElement(r.a.Fragment,null,!t&&r.a.createElement("div",{className:"loading"},"Loading books..."),t&&r.a.createElement("ul",{className:"book-list"},t.map((function(e){return r.a.createElement(b,Object.assign({key:e.isbn},e))}))))},h=a(1),f=(a(32),a(14)),g=a.n(f),p=a(19),k={get:function(){var e=Object(p.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),post:{},put:{}},v={getAllBooks:function(){var e="".concat("https://booklibraryapi.azurewebsites.net/api","/books");return k.get(e)},getBookByIsbn:function(e){var t="".concat("https://booklibraryapi.azurewebsites.net/api","/books/").concat(e);return k.get(t)},getAllCategories:function(){var e="".concat("https://booklibraryapi.azurewebsites.net/api","/categories");return k.get(e)},getCategoryByName:function(e){var t="".concat("https://booklibraryapi.azurewebsites.net/api","/categories/").concat(e);return k.get(t)},getAllAuthors:function(){var e="".concat("https://booklibraryapi.azurewebsites.net/api","/authors");return k.get(e)},getAuthorByName:function(e){var t="".concat("https://booklibraryapi.azurewebsites.net/api","/authors/").concat(e);return k.get(t)}},d=function(e){var t=Object(n.useState)({}),a=Object(s.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){v.getBookByIsbn(e).then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}),[e]),r},y=function(e){console.log("book param is",e.match.params.isbn);var t=d(e.match.params.isbn),a=t.isbn,n=t.title,c=t.pageCount,o=t.publishedDate,u=t.thumbnailUrl,s=t.shortDescription,i=t.longDescription,b=t.status,E=t.authors,h=void 0===E?[]:E,f=t.categories,g=void 0===f?[]:f;return r.a.createElement(r.a.Fragment,null,!t&&r.a.createElement("div",null,"Loading book..."),t&&r.a.createElement("div",{className:"book"},r.a.createElement("div",null,r.a.createElement(m,{src:u})),r.a.createElement("div",{className:"book-text"},r.a.createElement("p",null,r.a.createElement("b",{className:"title-name"},r.a.createElement("i",null,n)),r.a.createElement("br",null),"Authors: |",r.a.createElement("span",null,r.a.createElement("i",null,h.map((function(e,t){return r.a.createElement(l.b,{key:t,to:"/book-library/authors/".concat(e.name)},r.a.createElement("i",{className:"author-name"},e.name)," | ")})))),r.a.createElement("br",null),"Categories: |",r.a.createElement("i",null,g.map((function(e,t){return r.a.createElement(l.b,{key:t,to:"/book-library/categories/".concat(e.name)},r.a.createElement("i",{className:"category-name"},e.name)," | ")})))),r.a.createElement("div",null,r.a.createElement("header",{className:"book-header"},"Book Information"),r.a.createElement("div",{className:"book-header-text"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ISBN"),r.a.createElement("td",null,a)),r.a.createElement("tr",null,r.a.createElement("td",null,"Number of Pages"),r.a.createElement("td",null,c)),r.a.createElement("tr",null,r.a.createElement("td",null,"Published Date"),r.a.createElement("td",null,new Date(o).toDateString())),r.a.createElement("tr",null,r.a.createElement("td",null,"Status"),r.a.createElement("td",null,b)))))),r.a.createElement("div",null,r.a.createElement("header",{className:"book-header"},"Book Description"),r.a.createElement("div",{className:"book-header-text"},s,r.a.createElement("br",null),r.a.createElement("br",null),i)))))},N=function(e){return r.a.createElement("li",{className:"categories-item"},r.a.createElement(l.b,{to:"/categories/".concat(e.category)},e.category))},O=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){v.getAllCategories().then((function(e){return r(e)})).catch((function(e){return console.log(e)}))}),[]),a},j=function(){var e=function(e){var t=[];return null!=e&&e.forEach((function(e){t.push(e.name)})),t.sort()}(O());return r.a.createElement(r.a.Fragment,null,!e&&r.a.createElement("div",null,"Loading Categories"),e&&r.a.createElement("ul",{className:"categories-list"},e.map((function(e,t){return r.a.createElement(N,{key:t,category:e})}))))},A=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){v.getAllBooks().then((function(e){return r(e)})).catch((function(e){return console.log(e)}))}),[]),a},S=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){v.getCategoryByName(e).then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}),[e]),r},w=function(e){var t,a=A();t=0===Object.keys(e).length?"TOP CATEGORIES":e.match.params.categoryName.toUpperCase();var n,c=S(t.toLowerCase());return null!=c&&(n=c.books),r.a.createElement("div",{className:"category-main"},r.a.createElement("div",{className:"category-list-wrapper"},r.a.createElement("div",{className:"category-list-title"},r.a.createElement(l.b,{to:"/categories"},"CATEGORIES")),r.a.createElement(j,null)),r.a.createElement("div",{className:"book-category-list"},r.a.createElement("header",{className:"category-list-title"},t),"TOP CATEGORIES"===t&&r.a.createElement(E,{books:a}),"TOP CATEGORIES"!==t&&r.a.createElement(E,{books:n})))},C=function(e){return r.a.createElement("li",{className:"authors-item"},r.a.createElement(l.b,{to:"/authors/".concat(e.author)},e.author))},B=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){v.getAllAuthors().then((function(e){return r(e)})).catch((function(e){return console.log(e)}))}),[]),a},T=function(){var e=function(e){var t=[];return null!=e&&e.forEach((function(e){t.push(e.name)})),t.sort()}(B());return r.a.createElement(r.a.Fragment,null,!e&&r.a.createElement("div",null,"Loading Authors"),e&&r.a.createElement("ul",{className:"authors-list"},e.map((function(e,t){return r.a.createElement(C,{key:t,author:e})}))))},I=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){v.getAuthorByName(e).then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}),[e]),r},x=function(e){var t,a=A();t=0===Object.keys(e).length?"TOP AUTHORS":e.match.params.authorName.toUpperCase();var n,c=I(t.toLowerCase());return null!=c&&(n=c.books),console.log(c),r.a.createElement("div",{className:"author-main"},r.a.createElement("div",{className:"author-list-wrapper"},r.a.createElement("div",{className:"author-list-title"},r.a.createElement(l.b,{to:"/authors"},"AUTHORS")),r.a.createElement(T,null)),r.a.createElement("div",{className:"book-author-list"},r.a.createElement("header",{className:"author-list-title"},t),"TOP AUTHORS"===t&&r.a.createElement(E,{books:a}),"TOP AUTHORS"!==t&&r.a.createElement(E,{books:n})))},P=function(){var e=A();return r.a.createElement(l.a,null,r.a.createElement("div",null,e&&r.a.createElement(u,null)),r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/book-library/authors/:authorName",component:x}),r.a.createElement(h.a,{path:"/book-library/authors"},r.a.createElement(x,null)),r.a.createElement(h.a,{path:"/book-library/categories/:categoryName",component:w}),r.a.createElement(h.a,{path:"/book-library/categories"},r.a.createElement(w,null)),r.a.createElement(h.a,{path:"/book-library/isbn/:isbn",component:y}),r.a.createElement(h.a,{exact:!0,path:"/book-library/"},r.a.createElement("div",{className:"main-content"},r.a.createElement(E,{books:e})))))};o.a.render(r.a.createElement(P,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.b820d387.chunk.js.map