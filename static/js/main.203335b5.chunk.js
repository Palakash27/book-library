(this["webpackJsonplibrary-management"]=this["webpackJsonplibrary-management"]||[]).push([[0],{20:function(e,t,a){e.exports=a(34)},25:function(e,t,a){},26:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),o=(a(25),a(26),a(2)),u=a(4),s=function(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),c=a[0],l=a[1];return r.a.createElement("div",{className:"search-bar"},r.a.createElement("input",{onChange:function(t){0===t.target.value.length?l(null):l(e.items.filter((function(e){return e.toLowerCase().includes(t.target.value.toLowerCase())})).slice(0,5))},type:"text",placeholder:"Search..."}),r.a.createElement("ul",null,c&&c.map((function(e){return r.a.createElement("li",null,e)}))))},i=function(e){return r.a.createElement("div",{className:"topnav"},r.a.createElement(o.b,{className:"active",to:"/"},r.a.createElement("b",null,"Book Library")),r.a.createElement("div",{className:"topnav-right"},r.a.createElement(s,{items:e.books}),r.a.createElement(o.b,{to:"/"},"Home"),r.a.createElement(o.b,{to:"/authors"},"Authors"),r.a.createElement(o.b,{to:"/categories"},"Categories"),r.a.createElement(o.b,{to:"/about"},"About")))},m=function(e){var t=Object(n.useState)(e),a=Object(u.a)(t,2),r=a[0],c=a[1];Object(n.useEffect)((function(){c(e)}),[e]);return{imageSource:r,onError:function(){c("https://www.hultafors.com/assets/img/noimage.png?width=300")}}},E=function(e){var t=e.src,a=m(t),n=a.imageSource,c=a.onError;return r.a.createElement("img",{src:n,title:"",alt:"",onError:c})},b=function(e){var t=e.title,a=e.isbn,n=e.thumbnailUrl;return r.a.createElement("li",{className:"book-item"},r.a.createElement(o.b,{to:"/isbn/".concat(a)},r.a.createElement(E,{src:n}),r.a.createElement("div",{className:"title"},t.slice(0,20),"...")))},h=function(e){var t=e.books;return r.a.createElement(r.a.Fragment,null,!t&&r.a.createElement("div",{className:"loading"},"Loading books..."),t&&r.a.createElement("ul",{className:"book-list"},t.map((function(e){return r.a.createElement(b,Object.assign({key:e.isbn},e))}))))},f=a(1),g=(a(32),a(14)),p=a.n(g),v=a(19),d={get:function(){var e=Object(v.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),post:{},put:{}},k={getAllBooks:function(){var e="".concat("https://booklibraryapi.azurewebsites.net/api","/books");return d.get(e)},getBookByIsbn:function(e){var t="".concat("https://booklibraryapi.azurewebsites.net/api","/books/").concat(e);return d.get(t)},getAllCategories:function(){var e="".concat("https://booklibraryapi.azurewebsites.net/api","/categories");return d.get(e)},getCategoryByName:function(e){var t="".concat("https://booklibraryapi.azurewebsites.net/api","/categories/").concat(e);return d.get(t)},getAllAuthors:function(){var e="".concat("https://booklibraryapi.azurewebsites.net/api","/authors");return d.get(e)},getAuthorByName:function(e){var t="".concat("https://booklibraryapi.azurewebsites.net/api","/authors/").concat(e);return d.get(t)}},N=function(e){var t=Object(n.useState)({}),a=Object(u.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){k.getBookByIsbn(e).then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}),[e]),r},O=function(e){console.log("book param is",e.match.params.isbn);var t=N(e.match.params.isbn),a=t.isbn,n=t.title,c=t.pageCount,l=t.publishedDate,u=t.thumbnailUrl,s=t.shortDescription,i=t.longDescription,m=t.status,b=t.authors,h=void 0===b?[]:b,f=t.categories,g=void 0===f?[]:f;return r.a.createElement(r.a.Fragment,null,!t&&r.a.createElement("div",null,"Loading book..."),t&&r.a.createElement("div",{className:"book"},r.a.createElement("div",null,r.a.createElement(E,{src:u})),r.a.createElement("div",{className:"book-text"},r.a.createElement("p",null,r.a.createElement("b",{className:"title-name"},r.a.createElement("i",null,n)),r.a.createElement("br",null),"Authors: |",r.a.createElement("span",null,r.a.createElement("i",null,h.map((function(e,t){return r.a.createElement(o.b,{key:t,to:"/authors/".concat(e.name)},r.a.createElement("i",{className:"author-name"},e.name)," | ")})))),r.a.createElement("br",null),"Categories: |",r.a.createElement("i",null,g.map((function(e,t){return r.a.createElement(o.b,{key:t,to:"/categories/".concat(e.name)},r.a.createElement("i",{className:"category-name"},e.name)," | ")})))),r.a.createElement("div",null,r.a.createElement("header",{className:"book-header"},"Book Information"),r.a.createElement("div",{className:"book-header-text"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ISBN"),r.a.createElement("td",null,a)),r.a.createElement("tr",null,r.a.createElement("td",null,"Number of Pages"),r.a.createElement("td",null,c)),r.a.createElement("tr",null,r.a.createElement("td",null,"Published Date"),r.a.createElement("td",null,new Date(l).toDateString())),r.a.createElement("tr",null,r.a.createElement("td",null,"Status"),r.a.createElement("td",null,m)))))),r.a.createElement("div",null,r.a.createElement("header",{className:"book-header"},"Book Description"),r.a.createElement("div",{className:"book-header-text"},s,r.a.createElement("br",null),r.a.createElement("br",null),i)))))},y=function(e){return r.a.createElement("li",{className:"categories-item"},r.a.createElement(o.b,{to:"/categories/".concat(e.category)},e.category))},j=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){k.getAllCategories().then((function(e){return r(e)})).catch((function(e){return console.log(e)}))}),[]),a},w=function(){var e=function(e){var t=[];return null!=e&&e.forEach((function(e){t.push(e.name)})),t.sort()}(j());return r.a.createElement(r.a.Fragment,null,!e&&r.a.createElement("div",null,"Loading Categories"),e&&r.a.createElement("ul",{className:"categories-list"},e.map((function(e,t){return r.a.createElement(y,{key:t,category:e})}))))},A=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){k.getAllBooks().then((function(e){return r(e)})).catch((function(e){return console.log(e)}))}),[]),a},S=function(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){k.getCategoryByName(e).then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}),[e]),r},C=function(e){var t,a=A();t=0===Object.keys(e).length?"TOP CATEGORIES":e.match.params.categoryName.toUpperCase();var n,c=S(t.toLowerCase());return null!=c&&(n=c.books),r.a.createElement("div",{className:"category-main"},r.a.createElement("div",{className:"category-list-wrapper"},r.a.createElement("div",{className:"category-list-title"},r.a.createElement(o.b,{to:"/categories"},"CATEGORIES")),r.a.createElement(w,null)),r.a.createElement("div",{className:"book-category-list"},r.a.createElement("header",{className:"category-list-title"},t),"TOP CATEGORIES"===t&&r.a.createElement(h,{books:a}),"TOP CATEGORIES"!==t&&r.a.createElement(h,{books:n})))},B=function(e){return r.a.createElement("li",{className:"authors-item"},r.a.createElement(o.b,{to:"/authors/".concat(e.author)},e.author))},T=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){k.getAllAuthors().then((function(e){return r(e)})).catch((function(e){return console.log(e)}))}),[]),a},x=function(){var e=function(e){var t=[];return null!=e&&e.forEach((function(e){t.push(e.name)})),t.sort()}(T());return r.a.createElement(r.a.Fragment,null,!e&&r.a.createElement("div",null,"Loading Authors"),e&&r.a.createElement("ul",{className:"authors-list"},e.map((function(e,t){return r.a.createElement(B,{key:t,author:e})}))))},I=function(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){k.getAuthorByName(e).then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}),[e]),r},L=function(e){var t,a=A();t=0===Object.keys(e).length?"TOP AUTHORS":e.match.params.authorName.toUpperCase();var n,c=I(t.toLowerCase());return null!=c&&(n=c.books),console.log(c),r.a.createElement("div",{className:"author-main"},r.a.createElement("div",{className:"author-list-wrapper"},r.a.createElement("div",{className:"author-list-title"},r.a.createElement(o.b,{to:"/authors"},"AUTHORS")),r.a.createElement(x,null)),r.a.createElement("div",{className:"book-author-list"},r.a.createElement("header",{className:"author-list-title"},t),"TOP AUTHORS"===t&&r.a.createElement(h,{books:a}),"TOP AUTHORS"!==t&&r.a.createElement(h,{books:n})))},P=function(){var e=A();return r.a.createElement(o.a,null,r.a.createElement("div",null,e&&r.a.createElement(i,{books:e.map((function(e){return e.title}))})),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/authors/:authorName",component:L}),r.a.createElement(f.a,{path:"/authors"},r.a.createElement(L,null)),r.a.createElement(f.a,{path:"/categories/:categoryName",component:C}),r.a.createElement(f.a,{path:"/categories"},r.a.createElement(C,null)),r.a.createElement(f.a,{path:"/isbn/:isbn",component:O}),r.a.createElement(f.a,{exact:!0,path:"/"},r.a.createElement("div",{className:"main-content"},r.a.createElement(h,{books:e})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.203335b5.chunk.js.map